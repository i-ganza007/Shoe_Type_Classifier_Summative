# ==============================================================================
# UNIFIED REQUIREMENTS FILE - WORKS LOCALLY AND ON RENDER
# ==============================================================================

# ==============================================================================
# BUILD TOOLS (Required for Render deployment)
# ==============================================================================
setuptools>=65.0.0
wheel>=0.38.0
pip>=22.0.0

# ==============================================================================
# WEB FRAMEWORK & API
# ==============================================================================
fastapi==0.116.1
uvicorn[standard]==0.35.0
python-multipart==0.0.20
python-dotenv==1.1.1
aiofiles==24.1.0
starlette>=0.47.0,<1.0.0

# ==============================================================================
# MACHINE LEARNING & AI
# ==============================================================================
# TensorFlow - simplified approach for Render
# Use any available TensorFlow version (Render will pick what works)
tensorflow
# NumPy - basic stable version
numpy>=1.21.0,<1.25.0
scikit-learn>=1.0.0,<1.4.0

# ==============================================================================
# IMAGE PROCESSING
# ==============================================================================
pillow>=10.0.0,<12.0.0
split-folders==0.5.1

# ==============================================================================
# DATA PROCESSING
# ==============================================================================
# Pandas - using very stable version to avoid compilation issues
pandas>=1.5.0,<2.1.0

# ==============================================================================
# DATABASE & BACKEND SERVICES
# ==============================================================================
# Supabase client and dependencies
supabase==2.17.0
storage3==0.12.0
postgrest==1.1.1
gotrue==2.12.3
realtime==2.6.0
supafunc==0.10.1

# ==============================================================================
# HTTP & NETWORKING
# ==============================================================================
requests>=2.30.0,<3.0.0
httpx>=0.25.0,<1.0.0

# ==============================================================================
# DATA VALIDATION & SERIALIZATION
# ==============================================================================
pydantic>=2.0.0,<3.0.0

# ==============================================================================
# UTILITIES
# ==============================================================================
python-dateutil>=2.8.0,<3.0.0

# ==============================================================================
# DEPLOYMENT NOTES:
# ==============================================================================
# ⚠️  RENDER SPECIFIC: Uses tensorflow==2.20.0rc0 (ONLY version available on Render)
# ✅ This is a release candidate but it's what Render provides
# ✅ Should work fine for inference/prediction tasks
# ✅ Local development - you may need to install this specific version
#
# For other platforms, consider using different TensorFlow versions:
# - Railway: tensorflow>=2.16.0 (more flexible)
# - Vercel: tensorflow==2.17.1 (confirmed working)
#
# Environment variables for deployment:
# - SUPABASE_URL=your_supabase_url
# - SUPABASE_KEY=your_supabase_key
# - TF_CPP_MIN_LOG_LEVEL=2
# - PYTHONUNBUFFERED=1
